(self.webpackChunkglobal=self.webpackChunkglobal||[]).push([[104],{4500:function(t,e,r){"use strict";r.d(e,{u:function(){return o}});var s=r(2693),a=r(8619);let o=(()=>{class t{constructor(t){this.http=t,this.baseUrl="http://localhost:5000/api/v1/"}postRequest(t,e){return this.http.post(this.baseUrl+e,t)}postRequestHeader(t,e,r){let a=new s.WM;return a=a.set("Content-Type","multipart/form-data; charset=utf-8"),this.http.post(this.baseUrl+e,t,{headers:{Authorization:r}})}putRequestHeader(t,e,r){let a=new s.WM;return a=a.set("Content-Type","application/json; charset=utf-8"),this.http.put(this.baseUrl+e,t,{headers:{authorization:r}})}getRequest(t){return this.http.get(this.baseUrl+t)}getRequestWithoutData(t){let e=new s.WM;return e=e.set("Content-Type","application/json; charset=utf-8"),this.http.get(this.baseUrl,{headers:{authorization:t}})}getRequestHeader(t,e){let r=new s.WM;return r=r.set("Content-Type","application/json; charset=utf-8"),this.http.get(this.baseUrl+t,{headers:{authorization:e}})}DeleteRequestHeader(t,e){let r=new s.WM;return r=r.set("Content-Type","application/json; charset=utf-8"),this.http.delete(this.baseUrl+t,{headers:{authorization:e}})}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(s.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},2893:function(t,e,r){"use strict";r.d(e,{v:function(){return i}});var s=r(8619),a=r(3319),o=r(2693),n=r(4500);let i=(()=>{class t{constructor(t,e,r){this.router=t,this.http=e,this.apiCall=r}getlocalData(){let t={};return t.userId=localStorage.getItem("userId"),t.token=localStorage.getItem("token"),t.userMail=localStorage.getItem("userMail"),t.firstName=localStorage.getItem("firstName"),t.lastName=localStorage.getItem("lastName"),t.username=localStorage.getItem("username"),t}setLocalData(t){localStorage.setItem("dataSource",JSON.stringify(t)),localStorage.setItem("userId",t.data.user._id),localStorage.setItem("token",t.data.token),localStorage.setItem("userMail",t.data.user.email),localStorage.setItem("firstName",t.data.user.firstName),localStorage.setItem("username",t.data.user.username),localStorage.setItem("lastName",t.data.user.lastName)}checkLogin(){localStorage.getItem("token")||this.router.navigate(["/login"])}userInfo(t){return new Promise((e,r)=>{this.apiCall.getRequestHeader("user/userInfo",t).subscribe(t=>{e(t)},t=>{r("user is not exist")})})}fetchPacakge(){return new Promise((t,e)=>{this.apiCall.getRequest("public/packages").subscribe(e=>{t(e)},t=>{e("Pacakges is not exist")})})}reBuyPacakge(){return new Promise((t,e)=>{this.apiCall.getRequest("public/reBuy").subscribe(e=>{t(e)},t=>{e("rebuy is not exist")})})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(a.F0),s.LFG(o.eN),s.LFG(n.u))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},8104:function(t,e,r){"use strict";r.r(e),r.d(e,{VerifyModule:function(){return d}});var s=r(1116),a=r(1462),o=r(3319),n=r(6304),i=r(8619),u=r(2893),l=r(2693),c=r(4500);let p=(()=>{class t{constructor(t,e){this.http=t,this.apiCall=e}resendMail(t){return new Promise((e,r)=>{this.apiCall.postRequest(t,"user/resendMail_for_verify_email").subscribe(t=>{e(t)},t=>{400==t.status?r("Something went wrong"):462==t.status&&r("Please try After few min")})})}resendMailIP(t){return new Promise((e,r)=>{this.apiCall.postRequest(t,"user/resendMail_for_verify_IP").subscribe(t=>{e(t)},t=>{400==t.status?r("Something went wrong"):462==t.status&&r("Please try After few min")})})}mailconfirmation(t,e){return new Promise((r,s)=>{this.apiCall.postRequestHeader(t,"user/verifyEmail/",e).subscribe(t=>{r(t),console.log(">>>>@@@@.....",t)},t=>{400==t.status?s("Something went wrong"):406==t.status?s("Email Already verified"):401==t.status?s("IP Already Authorized"):500==t.status&&s("Something went wrong")})})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(l.eN),i.LFG(c.u))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=r(518);const g=[{path:"",component:(()=>{class t{constructor(t,e,r,s,a,o){this.router=t,this.formBuilder=e,this.localData=r,this.service=s,this.toastr=a,this.route=o,this.submitted=!1,this.role=!0}ngOnInit(){window,this.verifyOtpForm=this.formBuilder.group({otp:["",[a.kI.required]]})}verifyOtpSubmit(){var t=this;return(0,n.Z)(function*(){const e=t.route.snapshot.paramMap.get("token");try{(yield t.service.mailconfirmation(t.verifyOtpForm.value,e))&&t.toastr.success("User resgistered successfully !!"),t.router.navigate(["/payment/",e])}catch(r){t.toastr.error("Opps! Something went wrong!!!"),t.ngOnInit()}})()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(o.F0),i.Y36(a.qu),i.Y36(u.v),i.Y36(p),i.Y36(h._W),i.Y36(o.gz))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-verify"]],decls:29,vars:1,consts:[[1,"page"],[1,"page-single"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-5"],[1,"card","p-4","mb-0","mt-7","mt-md-2"],[1,"card-body"],[1,"text-center","title-style","mb-6"],[1,"mb-2"],[1,"text-muted"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-4"],[1,"input-group-addon"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 0 24 24","width","24",1,"svg-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M20 8l-8 5-8-5v10h16zm0-2H4l8 4.99z","opacity",".3"],["d","M4 20h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2zM20 6l-8 4.99L4 6h16zM4 8l8 5 8-5v10H4V8z"],["type","number","formControlName","otp","placeholder","Enter OTP",1,"form-control"],[1,"row"],[1,"col-12"],["type","submit","role","button","href","",1,"btn","btn-lg","btn-primary","btn-block","px-4"],[1,"text-center","pt-4"],[1,"font-weight-normal","fs-16"],["href","#",1,"btn-link","font-weight-normal"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"div",6),i.TgZ(7,"div",7),i.TgZ(8,"h1",8),i._uU(9,"Email Verification"),i.qZA(),i._UZ(10,"hr"),i.TgZ(11,"p",9),i._uU(12,"Please Check Your Email To Get OTP"),i.qZA(),i.qZA(),i.TgZ(13,"form",10),i.NdJ("ngSubmit",function(){return e.verifyOtpSubmit()}),i.TgZ(14,"div",11),i.TgZ(15,"span",12),i.O4$(),i.TgZ(16,"svg",13),i._UZ(17,"path",14),i._UZ(18,"path",15),i._UZ(19,"path",16),i.qZA(),i.qZA(),i.kcU(),i._UZ(20,"input",17),i.qZA(),i.TgZ(21,"div",18),i.TgZ(22,"div",19),i.TgZ(23,"button",20),i._uU(24," Send"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(25,"div",21),i.TgZ(26,"div",22),i.TgZ(27,"a",23),i._uU(28,"Send OTP Again"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(13),i.Q6J("formGroup",e.verifyOtpForm))},directives:[a._Y,a.JL,a.sg,a.wV,a.Fj,a.JJ,a.u],styles:[".custom-data[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-top:10px}"]}),t})()}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o.Bz.forChild(g)],o.Bz]}),t})(),d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[s.ez,m,a.u5,a.UX,h.Rh.forRoot({timeOut:2500,preventDuplicates:!0})]]}),t})()}}]);